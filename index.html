<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>CC Processing by dkarter</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>CC Processing</h1>
          <h2>CC Processing Demo App for Braintree</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/dkarter/CCProcessing/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/dkarter/CCProcessing/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/dkarter/CCProcessing" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="ccprocessing" class="anchor" href="#ccprocessing"><span class="octicon octicon-link"></span></a>CCProcessing</h1>

<p>CCProcApp is a demo app build for the Braintree interview process</p>

<h2>
<a name="usage-instructions" class="anchor" href="#usage-instructions"><span class="octicon octicon-link"></span></a>Usage Instructions</h2>

<p>To use open a terminal window on your Mac OS X or Linux.</p>

<h3>
<a name="install" class="anchor" href="#install"><span class="octicon octicon-link"></span></a>Install</h3>

<p>Extract the files from the supplied zip file, keeping the directory structure intact. Navigate to the program directory and enter the following:</p>

<pre><code>$ bundle install
</code></pre>

<p>This will install the Thor and RSpec gems.</p>

<h3>
<a name="run" class="anchor" href="#run"><span class="octicon octicon-link"></span></a>Run</h3>

<p>To view available commands</p>

<pre><code>$ ruby main.rb help
</code></pre>

<p>To run the program in interactive mode:</p>

<pre><code>$ ruby main.rb interactive
</code></pre>

<p>To load a file and process each line as a command:</p>

<pre><code>$ ruby main.rb file &lt;filename&gt;
</code></pre>

<h5>
<a name="interactive-mode" class="anchor" href="#interactive-mode"><span class="octicon octicon-link"></span></a>Interactive mode</h5>

<p>When entering interactive mode you will see the following prompt:</p>

<pre><code>Please enter a command followed by space delimited parameters.
Commands include:
1. Add &lt;name&gt; &lt;cc number&gt; $&lt;amount&gt;
2. Charge &lt;name&gt; $&lt;amount&gt;
3. Credit &lt;name&gt; $&lt;amount&gt;
4. Summary
5. Quit
&gt; 
</code></pre>

<p>Enter a command and press the {return} button on your keyboard to submit the command and enter a new one. The interactive mode works in a similar manner to the terminal. To stop type “quit” and you will return to the terminal.</p>

<p>Please note that the “quit” command does not write the summary, you will have to type “Summary” to view the summary.</p>

<p>Note that account names are case-sensitive. You cannot add an account with the same name twice.</p>

<h4>
<a name="file-mode" class="anchor" href="#file-mode"><span class="octicon octicon-link"></span></a>File mode</h4>

<p>I have provided a file with the application for easy testing. This file contains the example from the instructions file and is used in one of the tests for verification. To load the test file navigate to the program directory and type:</p>

<pre><code>$ ruby main.rb file spec/test.in
</code></pre>

<h3>
<a name="test" class="anchor" href="#test"><span class="octicon octicon-link"></span></a>Test</h3>

<p>To run the test suite navigate to the program directory and enter:</p>

<pre><code>$ rspec
</code></pre>

<p>You should see all the tests (58) have passed and displayed in green.</p>

<h2>
<a name="overview-of-design-decisions" class="anchor" href="#overview-of-design-decisions"><span class="octicon octicon-link"></span></a>Overview of Design Decisions</h2>

<p>I chose to use BDD with RSpec because it makes it easy to ensure all the requirements for the software have been implemented in the code. It made sure that no regression bugs have occured while adding functionality.</p>

<p>I divided the program into Accounts and Transactions with an interpreter model (main and CCProcApp) to help execute the client commands.</p>

<p>The transactions can be of type credit or charge and are stored in an array in the Account. The Account is responsible for calculating the balance by iterating over the transactions and summing up the charges as positive and credits as negative.</p>

<p>Ideally, I would separate the CCProcApp into an accounts_controller which will contain the add, charge, credit and summary function. However, for the sake of simplicity and time I decided to put them in one. </p>

<h2>
<a name="why-ruby" class="anchor" href="#why-ruby"><span class="octicon octicon-link"></span></a>Why Ruby</h2>

<ol>
<li>Lightweight</li>
<li>Elegant syntax</li>
<li>Does not require to compile each time</li>
<li>Powerful bdd framework (RSpec)</li>
<li>Works great on Mac</li>
<li>Gems are really helpful and time saving (e.g. Luhn 10 validator, Thor for commandline arguments)</li>
<li>Braintree works with Ruby on Rails so building the project in ruby is a good opportunity to showcase my skills</li>
</ol>
        </section>

        <footer>
          CC Processing is maintained by <a href="https://github.com/dkarter">dkarter</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>